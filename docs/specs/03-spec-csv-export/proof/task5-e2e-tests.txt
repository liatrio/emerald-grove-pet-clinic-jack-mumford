
> e2e-tests@1.0.0 test
> playwright test --pass-with-no-tests csv-export.spec.ts

[1A[2K[2m[WebServer] [22mWARNING: A terminally deprecated method in sun.misc.Unsafe has been called
[2m[WebServer] [22mWARNING: sun.misc.Unsafe::staticFieldBase has been called by com.google.inject.internal.aop.HiddenClassDefiner (file:/Users/jackmonford/.m2/wrapper/dists/apache-maven-3.9.11/a2d47e15/lib/guice-5.1.0-classes.jar)
[2m[WebServer] [22mWARNING: Please consider reporting this to the maintainers of class com.google.inject.internal.aop.HiddenClassDefiner
[2m[WebServer] [22mWARNING: sun.misc.Unsafe::staticFieldBase will be removed in a future release

[1A[2K[2m[WebServer] [22m[INFO] Scanning for projects...

[1A[2K[2m[WebServer] [22m[INFO] 

[1A[2K[2m[WebServer] [22m[INFO] ------------< org.springframework.samples:spring-petclinic >------------
[2m[WebServer] [22m[INFO] Building petclinic 4.0.0-SNAPSHOT
[2m[WebServer] [22m[INFO]   from pom.xml

[1A[2K[2m[WebServer] [22m[INFO] --------------------------------[ jar ]---------------------------------

[1A[2K[2m[WebServer] [22m[INFO] 

[1A[2K[2m[WebServer] [22m[INFO] >>> spring-boot:4.0.0:run (default-cli) > test-compile @ spring-petclinic >>>

[1A[2K[2m[WebServer] [22m[INFO] 

[1A[2K[2m[WebServer] [22m[INFO] --- enforcer:3.6.2:enforce (enforce-java) @ spring-petclinic ---

[1A[2K[2m[WebServer] [22m[INFO] Rule 0: org.apache.maven.enforcer.rules.version.RequireJavaVersion passed

[1A[2K[2m[WebServer] [22m[INFO] 
[2m[WebServer] [22m[INFO] --- spring-javaformat:0.0.47:validate (default) @ spring-petclinic ---

[1A[2K[2m[WebServer] [22m[INFO] 

[1A[2K[2m[WebServer] [22m[INFO] --- checkstyle:3.6.0:check (nohttp-checkstyle-validation) @ spring-petclinic ---

[1A[2K[2m[WebServer] [22m[INFO] You have 0 Checkstyle violations.

[1A[2K[2m[WebServer] [22m[INFO] 
[2m[WebServer] [22m[INFO] --- jacoco:0.8.14:prepare-agent (default) @ spring-petclinic ---

[1A[2K[2m[WebServer] [22m[INFO] argLine set to -javaagent:/Users/jackmonford/.m2/repository/org/jacoco/org.jacoco.agent/0.8.14/org.jacoco.agent-0.8.14-runtime.jar=destfile=/Users/jackmonford/Repos/liatrio-forge/emerald-grove-pet-clinic-jack-mumford/target/jacoco.exec

[1A[2K[2m[WebServer] [22m[INFO] 

[1A[2K[2m[WebServer] [22m[INFO] --- git-commit-id:9.0.2:revision (default) @ spring-petclinic ---

[1A[2K[2m[WebServer] [22m[INFO] dotGitDirectory '/Users/jackmonford/Repos/liatrio-forge/emerald-grove-pet-clinic-jack-mumford/.git'

[1A[2K[2m[WebServer] [22m[INFO] Collected git.build.user.name with value Jack Mumford

[1A[2K[2m[WebServer] [22m[INFO] Collected git.build.user.email with value jack@cmumford.com

[1A[2K[2m[WebServer] [22m[INFO] Collected git.branch with value main

[1A[2K[2m[WebServer] [22m[INFO] Collected git.commit.id.describe with value 83af525-dirty

[1A[2K[2m[WebServer] [22m[INFO] Collected git.commit.id.describe-short with value 83af525-dirty

[1A[2K[2m[WebServer] [22m[INFO] Collected git.commit.id with value 83af5253bdd58cff16d272d534b706a8b689b809

[1A[2K[2m[WebServer] [22m

[1A[2K[2m[WebServer] [22m[INFO] Collected git.commit.id.abbrev with value 83af525

[1A[2K[2m[WebServer] [22m

[1A[2K[2m[WebServer] [22m[INFO] Collected git.dirty with value true

[1A[2K[2m[WebServer] [22m[INFO] Collected git.commit.user.name with value Jack Mumford

[1A[2K[2m[WebServer] [22m[INFO] Collected git.commit.user.email with value jack@cmumford.com

[1A[2K[2m[WebServer] [22m[INFO] Collected git.commit.message.full with value feat: add CSV export button to owners list UI (Task 4.0)
[2m[WebServer] [22m
[2m[WebServer] [22mAdd "Export to CSV" button to owners list page with search filter integration:
[2m[WebServer] [22m- Button placed above owners table with proper Bootstrap styling
[2m[WebServer] [22m- Uses Font Awesome download icon for visual clarity
[2m[WebServer] [22m- Preserves lastName query parameter for filtered exports
[2m[WebServer] [22m- Controller updated to pass lastName to template model
[2m[WebServer] [22m
[2m[WebServer] [22mImplementation:
[2m[WebServer] [22m- Template: ownersList.html - Added export button with Thymeleaf link
[2m[WebServer] [22m- Controller: OwnerController.java - Added lastName to model attributes
[2m[WebServer] [22m- Styling: Bootstrap btn btn-secondary class with mb-3 margin
[2m[WebServer] [22m- Icon: Font Awesome fa-download icon
[2m[WebServer] [22m
[2m[WebServer] [22mFeatures:
[2m[WebServer] [22m- Links to /owners.csv endpoint with current search filter
[2m[WebServer] [22m- Empty lastName exports all owners
[2m[WebServer] [22m- Non-empty lastName exports only matching owners
[2m[WebServer] [22m- Consistent with existing UI styling (Liatrio branding)
[2m[WebServer] [22m
[2m[WebServer] [22mManual Testing:
[2m[WebServer] [22m- Button visible on /owners page
[2m[WebServer] [22m- CSV download works for all owners
[2m[WebServer] [22m- Filtered export (Franklin) returns 1 owner
[2m[WebServer] [22m- Filtered export (Davis) returns 2 owners
[2m[WebServer] [22m- Filename format: owners-export-2026-02-12.csv
[2m[WebServer] [22m- Special characters properly escaped in CSV
[2m[WebServer] [22m
[2m[WebServer] [22mProof artifacts:
[2m[WebServer] [22m- Manual test results: docs/specs/03-spec-csv-export/proof/task4-ui-manual-test.md
[2m[WebServer] [22m- 6 test cases executed and passed
[2m[WebServer] [22m- Screenshots documented in manual test report
[2m[WebServer] [22m
[2m[WebServer] [22mIssue #11 - Task 4.0
[2m[WebServer] [22m
[2m[WebServer] [22mCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>

[1A[2K[2m[WebServer] [22m[INFO] Collected git.commit.message.short with value feat: add CSV export button to owners list UI (Task 4.0)

[1A[2K[2m[WebServer] [22m[INFO] Collected git.commit.time with value 2026-02-12T14:16:51-08:00

[1A[2K[2m[WebServer] [22m[INFO] Collected git.commit.author.time with value 2026-02-12T14:16:51-08:00

[1A[2K[2m[WebServer] [22m[INFO] Collected git.commit.committer.time with value 2026-02-12T14:16:51-08:00

[1A[2K[2m[WebServer] [22m[INFO] Collected git.remote.origin.url with value https://github.com/liatrio/emerald-grove-pet-clinic-jack-mumford.git

[1A[2K[2m[WebServer] [22m[INFO] Collected git.tags with value 

[1A[2K[2m[WebServer] [22m[INFO] Collected git.tag with value 

[1A[2K[2m[WebServer] [22m[INFO] Collected git.closest.tag.name with value 

[1A[2K[2m[WebServer] [22m[INFO] Collected git.closest.tag.commit.count with value 

[1A[2K[2m[WebServer] [22m[INFO] Collected git.total.commit.count with value 47

[1A[2K[2m[WebServer] [22m[INFO] Collected git.local.branch.ahead with value 21

[1A[2K[2m[WebServer] [22m[INFO] Collected git.local.branch.behind with value 0

[1A[2K[2m[WebServer] [22m[INFO] Collected git.build.time with value 2024-11-28T06:37:52-08:00

[1A[2K[2m[WebServer] [22m[INFO] Collected git.build.version with value 4.0.0-SNAPSHOT

[1A[2K[2m[WebServer] [22m[INFO] Collected git.build.host with value Jacks-MacBook-Pro.local

[1A[2K[2m[WebServer] [22m[INFO] including property 'git.tags' in results
[2m[WebServer] [22m[INFO] including property 'git.build.version' in results

[1A[2K[2m[WebServer] [22m[INFO] including property 'git.branch' in results
[2m[WebServer] [22m[INFO] including property 'git.build.host' in results
[2m[WebServer] [22m[INFO] including property 'git.commit.id' in results

[1A[2K[2m[WebServer] [22m
[2m[WebServer] [22m[INFO] including property 'git.commit.user.email' in results
[2m[WebServer] [22m[INFO] including property 'git.local.branch.behind' in results
[2m[WebServer] [22m[INFO] including property 'git.commit.author.time' in results

[1A[2K[2m[WebServer] [22m[INFO] including property 'git.build.user.name' in results
[2m[WebServer] [22m[INFO] including property 'git.dirty' in results
[2m[WebServer] [22m[INFO] including property 'git.closest.tag.commit.count' in results

[1A[2K[2m[WebServer] [22m[INFO] including property 'git.commit.user.name' in results
[2m[WebServer] [22m[INFO] including property 'git.commit.id.abbrev' in results

[1A[2K[2m[WebServer] [22m
[2m[WebServer] [22m[INFO] including property 'git.commit.id.describe-short' in results

[1A[2K[2m[WebServer] [22m[INFO] including property 'git.total.commit.count' in results
[2m[WebServer] [22m[INFO] including property 'git.commit.id.describe' in results

[1A[2K[2m[WebServer] [22m[INFO] including property 'git.build.user.email' in results

[1A[2K[2m[WebServer] [22m[INFO] including property 'git.commit.message.short' in results
[2m[WebServer] [22m[INFO] including property 'git.commit.committer.time' in results

[1A[2K[2m[WebServer] [22m[INFO] including property 'git.tag' in results
[2m[WebServer] [22m[INFO] including property 'git.closest.tag.name' in results

[1A[2K[2m[WebServer] [22m[INFO] including property 'git.local.branch.ahead' in results

[1A[2K[2m[WebServer] [22m[INFO] including property 'git.commit.time' in results
[2m[WebServer] [22m[INFO] including property 'git.build.time' in results

[1A[2K[2m[WebServer] [22m[INFO] including property 'git.commit.message.full' in results
[2m[WebServer] [22m[INFO] including property 'git.remote.origin.url' in results

[1A[2K[2m[WebServer] [22m

[1A[2K[2m[WebServer] [22m[INFO] Reading existing properties file [/Users/jackmonford/Repos/liatrio-forge/emerald-grove-pet-clinic-jack-mumford/target/classes/git.properties] (for project petclinic)...

[1A[2K[2m[WebServer] [22m[INFO] Properties file [/Users/jackmonford/Repos/liatrio-forge/emerald-grove-pet-clinic-jack-mumford/target/classes/git.properties] is up-to-date (for module petclinic)...

[1A[2K[2m[WebServer] [22m[INFO] 

[1A[2K[2m[WebServer] [22m[INFO] --- spring-boot:4.0.0:build-info (default) @ spring-petclinic ---

[1A[2K[2m[WebServer] [22m[INFO] 

[1A[2K[2m[WebServer] [22m[INFO] --- cyclonedx:2.9.1:makeAggregateBom (default) @ spring-petclinic ---

[1A[2K[2m[WebServer] [22m[INFO] CycloneDX: Resolving Dependencies

[1A[2K[2m[WebServer] [22m[INFO] CycloneDX: Creating BOM version 1.6 with 108 component(s)

[1A[2K[2m[WebServer] [22m[INFO] CycloneDX: Writing and validating BOM (JSON): /Users/jackmonford/Repos/liatrio-forge/emerald-grove-pet-clinic-jack-mumford/target/classes/META-INF/sbom/application.cdx.json

[1A[2K[2m[WebServer] [22m[WARNING] Unknown keyword meta:enum - you should define your own Meta Schema. If the keyword is irrelevant for validation, just use a NonValidationKeyword or if it should generate annotations AnnotationKeyword
[2m[WebServer] [22m[WARNING] Unknown keyword deprecated - you should define your own Meta Schema. If the keyword is irrelevant for validation, just use a NonValidationKeyword or if it should generate annotations AnnotationKeyword

[1A[2K[2m[WebServer] [22m[INFO]            attaching as spring-petclinic-4.0.0-SNAPSHOT-cyclonedx.json

[1A[2K[2m[WebServer] [22m[INFO] 

[1A[2K[2m[WebServer] [22m[INFO] --- resources:3.3.1:resources (default-resources) @ spring-petclinic ---

[1A[2K[2m[WebServer] [22m[INFO] Copying 3 resources from src/main/resources to target/classes

[1A[2K[2m[WebServer] [22m[INFO] Copying 61 resources from src/main/resources to target/classes

[1A[2K[2m[WebServer] [22m[INFO] 
[2m[WebServer] [22m[INFO] --- compiler:3.14.1:compile (default-compile) @ spring-petclinic ---

[1A[2K[2m[WebServer] [22m

[1A[2K[2m[WebServer] [22m[INFO] Nothing to compile - all classes are up to date.

[1A[2K[2m[WebServer] [22m[INFO] 

[1A[2K[2m[WebServer] [22m[INFO] --- resources:3.3.1:testResources (default-testResources) @ spring-petclinic ---

[1A[2K[2m[WebServer] [22m[INFO] skip non existing resourceDirectory /Users/jackmonford/Repos/liatrio-forge/emerald-grove-pet-clinic-jack-mumford/src/test/resources

[1A[2K[2m[WebServer] [22m[INFO] 
[2m[WebServer] [22m[INFO] --- compiler:3.14.1:testCompile (default-testCompile) @ spring-petclinic ---

[1A[2K[2m[WebServer] [22m[INFO] Nothing to compile - all classes are up to date.

[1A[2K[2m[WebServer] [22m[INFO] 
[2m[WebServer] [22m[INFO] <<< spring-boot:4.0.0:run (default-cli) < test-compile @ spring-petclinic <<<
[2m[WebServer] [22m[INFO] 

[1A[2K[2m[WebServer] [22m[INFO] 
[2m[WebServer] [22m[INFO] --- spring-boot:4.0.0:run (default-cli) @ spring-petclinic ---

[1A[2K[2m[WebServer] [22m[INFO] Attaching agents: []

[1A[2K[2m[WebServer] [22m
[2m[WebServer] [22m
[2m[WebServer] [22m              |\      _,,,--,,_
[2m[WebServer] [22m             /,`.-'`'   ._  \-;;,_
[2m[WebServer] [22m  _______ __|,4-  ) )_   .;.(__`'-'__     ___ __    _ ___ _______
[2m[WebServer] [22m |       | '---''(_/._)-'(_\_)   |   |   |   |  |  | |   |       |
[2m[WebServer] [22m |    _  |    ___|_     _|       |   |   |   |   |_| |   |       | __ _ _
[2m[WebServer] [22m |   |_| |   |___  |   | |       |   |   |   |       |   |       | \ \ \ \
[2m[WebServer] [22m |    ___|    ___| |   | |      _|   |___|   |  _    |   |      _|  \ \ \ \
[2m[WebServer] [22m |   |   |   |___  |   | |     |_|       |   | | |   |   |     |_    ) ) ) )
[2m[WebServer] [22m |___|   |_______| |___| |_______|_______|___|_|  |__|___|_______|  / / / /
[2m[WebServer] [22m ==================================================================/_/_/_/
[2m[WebServer] [22m
[2m[WebServer] [22m:: Built with Spring Boot :: 4.0.0
[2m[WebServer] [22m

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:27.334-08:00  INFO 74540 --- [  restartedMain] o.s.s.petclinic.PetClinicApplication     : Starting PetClinicApplication using Java 25.0.2 with PID 74540 (/Users/jackmonford/Repos/liatrio-forge/emerald-grove-pet-clinic-jack-mumford/target/classes started by jackmonford in /Users/jackmonford/Repos/liatrio-forge/emerald-grove-pet-clinic-jack-mumford)

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:27.336-08:00  INFO 74540 --- [  restartedMain] o.s.s.petclinic.PetClinicApplication     : No active profile set, falling back to 1 default profile: "default"

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:27.362-08:00  INFO 74540 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[2m[WebServer] [22m2026-02-12T14:27:27.362-08:00  INFO 74540 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:27.736-08:00  INFO 74540 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:27.764-08:00  INFO 74540 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 3 JPA repository interfaces.

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:28.070-08:00  INFO 74540 --- [  restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:28.076-08:00  INFO 74540 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:28.076-08:00  INFO 74540 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:28.093-08:00  INFO 74540 --- [  restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 730 ms

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:28.189-08:00  INFO 74540 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:28.278-08:00  INFO 74540 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:9161423b-cf60-4b84-a12f-2dee8158b204 user=SA

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:28.279-08:00  INFO 74540 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:28.341-08:00  INFO 74540 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:28.358-08:00  INFO 74540 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 7.1.8.Final

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:28.523-08:00  INFO 74540 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:28.552-08:00  INFO 74540 --- [  restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
[2m[WebServer] [22m	Database JDBC URL [jdbc:h2:mem:9161423b-cf60-4b84-a12f-2dee8158b204]
[2m[WebServer] [22m	Database driver: H2 JDBC Driver
[2m[WebServer] [22m	Database dialect: H2Dialect
[2m[WebServer] [22m	Database version: 2.4.240
[2m[WebServer] [22m	Default catalog/schema: 9161423B-CF60-4B84-A12F-2DEE8158B204/PUBLIC
[2m[WebServer] [22m	Autocommit mode: undefined/unknown
[2m[WebServer] [22m	Isolation level: READ_COMMITTED [default READ_COMMITTED]
[2m[WebServer] [22m	JDBC fetch size: 100
[2m[WebServer] [22m	Pool: DatasourceConnectionProviderImpl
[2m[WebServer] [22m	Minimum pool size: undefined/unknown
[2m[WebServer] [22m	Maximum pool size: undefined/unknown

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:28.994-08:00  INFO 74540 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:28.998-08:00  INFO 74540 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:29.047-08:00  INFO 74540 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:29.646-08:00  INFO 74540 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 13 endpoints beneath base path '/actuator'

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:29.712-08:00  INFO 74540 --- [  restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:29.718-08:00  INFO 74540 --- [  restartedMain] o.s.s.petclinic.PetClinicApplication     : Started PetClinicApplication in 2.553 seconds (process running for 2.761)

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:30.110-08:00  INFO 74540 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:30.110-08:00  INFO 74540 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'

[1A[2K[2m[WebServer] [22m2026-02-12T14:27:30.118-08:00  INFO 74540 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms


Running 5 tests using 5 workers

[1A[2K[1/5] [chromium] â€º tests/features/csv-export.spec.ts:127:3 â€º CSV Export â€º CSV export button has correct styling and icon
[1A[2K[2/5] [chromium] â€º tests/features/csv-export.spec.ts:7:3 â€º CSV Export â€º should download CSV file with correct filename format
[1A[2K[3/5] [chromium] â€º tests/features/csv-export.spec.ts:37:3 â€º CSV Export â€º should export only filtered results when searching by lastName
[1A[2K[4/5] [chromium] â€º tests/features/csv-export.spec.ts:90:3 â€º CSV Export â€º should export all owners when no filter is applied
[1A[2K[5/5] [chromium] â€º tests/features/csv-export.spec.ts:149:3 â€º CSV Export â€º CSV export respects special characters in addresses
[1A[2K  5 passed (13.8s)
